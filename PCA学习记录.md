# PCA 原理分析

> 原文章地址:http://blog.codinglabs.org/articles/pca-tutorial.html
- 相关关系

####  1. 向量相关知识:
- 内积投影
    - 内积公式如下:公式中很容易看出的是,两个向量内积会得到一个实数.
    ![](https://i.imgur.com/mULIIVA.png)
    
    - 首先先从 2 维资料入手.现在 **A[$X_1$,$Y_1$],B[$X_2$,$Y_2$]** 两个向量,夹角 **α**
    ![](https://i.imgur.com/NgBB1HD.png)
        - 从 A 到 B 做条垂线投影.
        - 投影的长度是 |A|cosα
        - **标量长度(向量的模)**|A| = $\sqrt{x^{2}+y^{2}}$
        - **标量长度与矢量长度的区别:**
            - 标量长度是线段的长度
            - 矢量长度的是由正负号表示方向的标量长度,方向取决于标准向量相同或者相反.
        - 将向量内积与投影长度结合我们观察下:
            - $\vec{A} \cdot \vec{B}$ = |A||B|cosα
            - $\vec{A} \cdot \vec{B}$ = $x_1*x_2+y_1*y_2$
            - 假设$\vec B$ 的标量长度为 1 时 
            - $\vec{A} \cdot \vec{B}$ = |A|cosα
            - $\vec{A} \cdot \vec{B}$的值就是向量$\vec A$到$\vec B$的投影的矢量长度.
    - 也就意味着,向量$\vec{A} \cdot \vec{B}$的内积,就几何意义来说就是:当以$\vec{B}$的标量长度为 1 时,$\vec A$ 到$\vec B$ 投影的矢量长度.


#### 2. 基(下图是常见的坐标系,当我们需要画出一条向量的时候,我们就是从圆点向该点方向引一条射线,例如下图为(3,2)的向量):
![](https://i.imgur.com/KNhD3Hc.png)
- 通常我们在说向量表示的时候,总是忽略了一个很重要的问题.在上图中描述向量(3,2)的时候,其实我们描述的是一个向量,它在 x 轴的投影为 3,在 y 轴的投影为 2.也就是说我们忽略描述了我们是以 x,y 轴的正方向,长度为 1 的向量为标准,这个标准就是基.
    - 因此我们描述向量的时候也可以这样写:
        - $x (1,0)^T + y (0,1)^T$ 
        - (1,0),(0,1)就是我们最长使用的一组基
        - **因此在描述向量的时候,首先先要确定一组基,然后给出在基所在各直线的投影**
        - 在基的选择上,同上会选择不在一条直线,并且通常是正交(正交就是两个向量的内积为 0 ),且长度为 1 的两个向量.
- 基变换矩阵表示
    - ![](https://i.imgur.com/1ZNB0qd.png)
    - 观察上式就不难弄发现,当我们需要进行基变换的时候,只需要将初始向量与两个新基分别做内积即可.
    - 拓展到 m 个 2 维度向量就会是:
    - ![](https://i.imgur.com/lUnj6hn.png)
    - 继续拓展到 m 个维度:如果我们**有M个N维向量，想将其变换为由R个N维向量表示的新空间**中，那么首先将R个基按行组成矩阵A，然后将向量按列组成矩阵B，
    - ![](https://i.imgur.com/49x6pyN.png)
    - 其中$p_i$是一个行向量，表示第i个基，$a_j$是一个列向量，表示第j个原始数据记录。
    - 特别要注意一点**R 是可以小于 N**,R 决定变换后数据的维度.也就意味着我们可以将数据转换到更低的维度之中.变换后维度取决于基的数量.因此上述公式也可以表示数据降维.
    - 给上述公式一点简单解释就是,可以想象成每一个 p 就是一种线性变换,通过矩阵相乘,将右边的列向量变换到左边矩阵的行向量空间中.

#### 3. 如何选择基
- 一个具体的例子展开。假设我们的数据由五条记录组成，将它们表示成矩阵形式：
    - $\left({\begin{array}{cc}1&1&2&4&2\\1&3&3&4&4\end{array}}\right)$
- 每一列为一条数据记录，而一行为一个字段,首先将每个字段内所有值都减去字段均值，其结果是将每个字段都变为均值为0.
    - $\left({\begin{array}{cc}-1&-1&0&2&0\\-2&0&0&1&1\end{array}}\right)$
    - ![](https://i.imgur.com/rFAD9yk.png)
- 如果想要将这些二维资料点,降为一维资料点,最理想就是保留最多原始信息,直观的想法就是降维后的结果是尽可能分散的.
    - 如何判定资料是否分散? -> 方差
    - ![](https://i.imgur.com/ff2Y93T.png)
    - 由于我们已经把资料均值都化为 0 了.
    - ![](https://i.imgur.com/PQkqIH6.png)
    - 所以目标就是寻找一个一维基，使得所有数据变换为这个基上的坐标表示后，方差值最大。

####  4. 协方差,协方差矩阵
- 通过上面的描述我们可以了解到,从二维降为一维的时候,我们需要考虑的就是